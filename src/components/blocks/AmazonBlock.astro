---
import Block from "./Block.astro"

/**
 * Used to present an Amazon product as a card, also a link that product.
 * [WORK IN PROGRESS]
 */
interface Props {
  id: string
  name: string
  brand: string
  img: string
  price: string
  rating: number
  ratings_total: string
}

const { id, name, brand, img, price, rating, ratings_total } = Astro.props
---

<Block image={img} to={`https://www.amazon.fr/gp/product/${id}/`}>
  <h3 id={name} class="mb-1 mt-0 line-clamp-2 text-ellipsis leading-8 sm:line-clamp-1">
    {name}
  </h3>
  <ul class="m-0 flex list-none flex-col gap-2 p-0">
    <li>
      <i class="fa-solid fa-building pr-2"></i>
      {brand}
    </li>
    <li>
      <i class="fa-solid fa-barcode pr-2"></i>
      {price}
    </li>
    <li>
      {[...Array(Math.round(rating))].map(() => <i class="fas fa-star" />)} ({ratings_total}
      reviews)
    </li>
  </ul>
</Block>
